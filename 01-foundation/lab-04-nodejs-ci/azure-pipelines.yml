trigger:
  branches:
    include:
      - main

pool:
  name: Default   # agent pool name, NOT agent name

steps:
- script: |
    echo "Running on self-hosted agent"
    hostname
    whoami
    node -v
    npm -v
  displayName: "Verify agent and Node.js"

- script: npm install
  displayName: "Install dependencies"

- script: npm test
  displayName: "Run unit tests"

- script: npm pack
  displayName: "Package application"
